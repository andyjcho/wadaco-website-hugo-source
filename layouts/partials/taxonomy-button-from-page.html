{{ $tagID := .Params.slug }}
{{ $textTooltip := .Params.name }}
{{ $textDisplay := .Params.name }}

{{ with .Params.badge }}
    {{ $textDisplay = print . " " $textDisplay }}
{{ end }}

{{ with .Params.year }}
    {{ $textDisplay = . }}
{{ end }}

<span class="mdl-chip">
    <span id="tagbutton" class="mdl-chip__text">
        <!-- maybe this can be improved with a Hugo variable for topictag? -->
        <a id="tagbutton-{{ $tagID }}" class="mdl-button mdl-js-button mdl-js-ripple-effect" href="{{ .Permalink }}">{{ $textDisplay }}</a>
        <span for="tagbutton-{{ $tagID }}" class="mdl-tooltip">{{ $textTooltip }}</span>
    </span>
</span>